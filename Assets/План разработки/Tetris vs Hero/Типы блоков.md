# Типы блоков

## Один тип — все блоки одинаковые

Все блоки имеют **HP = 3** (настраивается в Inspector у `TetrisController`).

| Удар | Результат |
|------|-----------|
| 1-й | HP: 3 → 2, блок темнеет, персонаж получает толчок |
| 2-й | HP: 2 → 1, блок темнеет сильнее, персонаж получает толчок |
| 3-й | HP: 1 → 0, блок **разрушен**, персонаж получает **+1 очко** |

## CellData (struct)

```csharp
public struct CellData
{
    public int PieceType;  // 0 = пусто, 1-7 = блок
    public int HP;         // текущее здоровье
    public int MaxHP;      // начальное HP (для визуала затемнения)

    public bool IsEmpty => PieceType == 0;
}
```

## Спавн блоков

- Все фигуры спавнятся с `HP = _blockHP` (по умолчанию 3)
- Параметр `_blockHP` меняется в Inspector у `TetrisController`

## Визуал повреждений

`BoardRenderer` затемняет блок пропорционально полученному урону:

| HP / MaxHP | Визуал |
|------------|--------|
| 3/3 (100%) | Обычный цвет |
| 2/3 (67%)  | Слегка темнее |
| 1/3 (33%)  | Заметно темнее |
| 0/3        | Ячейка пуста |

Формула: `c = Lerp(c, black, (1 − HP/MaxHP) × 0.5)`

---

← [[Tetris vs Hero]] · [[Концепция]] · → [[Взаимодействия блоков и персонажа]]
